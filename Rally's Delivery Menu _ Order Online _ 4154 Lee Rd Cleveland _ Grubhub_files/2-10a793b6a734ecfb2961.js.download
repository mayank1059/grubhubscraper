
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2c1caaa7-8c71-52ed-97ff-1b9be5de7371")}catch(e){}}();
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1550:function(e,t,r){"use strict";var n;r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i}),function(e){e[e.Received=1]="Received",e[e.Started=2]="Started",e[e.InTransit=3]="InTransit",e[e.Delivered=4]="Delivered",e[e.Cancelled=5]="Cancelled",e[e.Error=6]="Error"}(n||(n={}));var i=function(){function e(){}return e.prototype.isDelivered=function(){return this.getStepIndex()===n.Delivered},e}()},1552:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"e",function(){return v}),r.d(t,"d",function(){return h}),r.d(t,"c",function(){return m}),r.d(t,"f",function(){return g}),r.d(t,"g",function(){return y}),r.d(t,"h",function(){return E});var n,i,a=r(25),o=r(1553),s=r(44),u=r(1550),c=r(19),l=r(4),d=r(36),p=r(7),f=r(3),_=function(){return(_=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function v(e,t){if(!e||!e.restaurant)return null;var r=Object(p.xc)(e),n=Object(p.Nc)(e),i=r&&n,s=Object(l.get)(e,"restaurant","address"),c={address:s,lat:Object(l.get)(s,"latitude"),lng:Object(l.get)(s,"longitude"),name:Object(l.get)(e,"restaurant","name"),phone:e.restaurant.getPhoneNumber()},d={isManagedDelivery:i};if(!r&&!t)return _(_({},d),{pickupInfo:c});d.pickupInfo=c;var f=Object(l.get)(e,"address")||Object(l.get)(e,"fulfillment_info","delivery_info"),v={address:f,lat:Object(l.get)(f,"latitude"),lng:Object(l.get)(f,"longitude")};if(!t)return _(_({},d),{dropoffInfo:v});d.dropoffInfo=v,d.orderStatus=new o.g(_(_({},t),{is_managed_delivery:i})),d.statusValue=t.status,d.orderStep=d.orderStatus.getStepIndex();var h=d.orderStep===u.b.InTransit||t.contactable,m=d.orderStep===u.b.Delivered;if(!i||!h)return _({},d);var g=t.delivery_tracking_info,y=Object(l.get)(g,"current_courier_location","latitude"),E=Object(l.get)(g,"current_courier_location","longitude"),b=h?c.lat:m&&v.lat||"",A=h?c.lng:m&&v.lng||"";if(E=E||A,!(y=y||b)||!E)return _({},d);d.deliveryInfo={lat:parseFloat(y),lng:parseFloat(E),name:Object(l.get)(g,"courier","chosen_name")||Object(l.get)(g,"courier","name")||"",vehicleType:(Object(l.get)(g,"courier","vehicle_type")||"").toLowerCase(),photoUrl:Object(l.get)(g,"courier","photo_url")};var D=Object(l.get)(g,"recent_courier_locations");if(Object(a.isEmpty)(D))return _({},d);var O=D[0];return _(_({},d),{prevDeliveryInfo:_(_({},d.deliveryInfo),{lat:parseFloat(String(O.latitude)),lng:parseFloat(String(O.longitude))})})}function h(e){var t,r,a=e.orderStatus,c=e.order,l=e.isCancellations,v=e.isBannerForConvenienceOrder,h=c.restaurant,E=Object(p.Hb)(c),b=a&&a.status,A=a&&a.getStepIndex(),D=g(a,c),O=D.start,T=D.end,R=D.whenForDate,C=D.whenForTime,I=Object(p.rc)(c)||A===u.b.Cancelled,L=Object(p.Fc)(c)&&A===u.b.Received,w=Object(p.Nc)(c),N=y(a),S="".concat(O,"-").concat(T),j=L?n.VIEW:n.TRACK,F=I?i.CANCELED:L?i.DEFAULT:i.SUCCESS,k=E===s.f.PICKUP&&(A===u.b.Delivered||b===o.h.complete);if(I)switch(!0){case v:t=f.a.translate("homepage.order_status_banner.canceled.header.convenienceVariant");break;default:if(t=f.a.translate("homepage.order_status_banner.canceled.header",{restaurant_name:h.name}),l){var U=m(a,c);U&&(r=U.cancellationNote)}r||(r=f.a.translate("homepage.order_status_banner.canceled.subheader"))}else if(L||!a)if(v)t=f.a.translate("meal_planner.card.header.range.convenienceVariant",{range:S}),r=f.a.translate("meal_planner.card.subheader.convenienceVariant");else{var P=c.group_type===s.g.SHARED_CART?"group order":"order";switch(!0){case S&&E===s.f.PICKUP:t=f.a.translate("meal_planner.card.header_pickup.range",{orderText:P,range:S});break;case S&&E===s.f.DELIVERY:t=f.a.translate("meal_planner.card.header_delivery.range",{orderText:P,range:S});break;default:t=O}r="We've sent your order to ".concat(h.name)}else if(k)switch(!0){case v:t=f.a.translate("order_status_timeline.steps.ready_pickup"),r=f.a.translate("homepage.order_status_banner.subheader.enjoy");break;default:t="Your food is ready for pickup!",r="Pick up at ".concat(h.name," ").concat(Object(d.I)(h.address))}else if(A===u.b.Received||A===u.b.Started||A===u.b.Error||A===u.b.InTransit){var M=E===s.f.PICKUP,V=!w&&N,Y=A===u.b.Received||A===u.b.Error,x=A===u.b.Started,G=A===u.b.InTransit;if(v)switch(t=f.a.translate("meal_planner.card.header.range.convenienceVariant",{range:S}),!0){case M:r=f.a.translate("order_status_timeline.steps.in_the_works");break;case V:r=f.a.translate("homepage.order_status_banner.arriving_soon");break;case Y:r=f.a.translate("meal_planner.card.subheader.convenienceVariant");break;case x:r=f.a.translate("order_status_timeline.steps.in_the_works");break;case G:r=f.a.translate("order_status_timeline.steps.convenienceVariant.on_the_way");break;default:r=""}else{switch(!0){case M:t=f.a.translate("order_status_header.ready_between",{range:S});break;case V:t=f.a.translate("homepage.order_status_banner.arriving_soon");break;default:t=f.a.translate("order_status_header.arrive_between",{range:S})}switch(!0){case Y:r="We've sent your order to ".concat(h.name);break;case x:r="Your food from ".concat(h.name," is being prepared");break;case G:r="Your food from ".concat(h.name," is on the way");break;default:r=""}}}else if(A===u.b.Delivered||b===o.h.complete)if(v)switch(!0){case k:t=f.a.translate("order_status_timeline.steps.ready_pickup"),r=f.a.translate("order_status_timeline.steps.convenienceVariant.all_set");break;default:t=f.a.translate("order_status_timeline.steps.delivered"),r=f.a.translate("order_status_timeline.steps.convenienceVariant.all_set")}else{switch(!0){case w:t="Your order's been delivered!";break;default:t=f.a.translate("homepage.order_status_banner.arriving_soon")}r="Enjoy your food from ".concat(h.name,"!")}var H={range:S,header:t,subheader:r,buttonDisplay:j,statusDisplay:F,start:O,end:T};return L?_(_({},H),{whenForDate:R,whenForTime:C}):H}function m(e,t){if(!t||e&&e.getStepIndex()!==u.b.Cancelled)return null;var r=(e&&e.order_events||[]).find(function(e){return e.type===o.h.cancelled}),n=Object(l.get)(t,"payments","payments",0,"amount_events",0,"notes");return{canceledTime:r&&r.event_time||null,cancellationNote:n||null}}function g(e,t,r){void 0===r&&(r={whenForDateFormat:"MMM D, YYYY"});var n=r.whenForDateFormat,i=Object(p.ac)(t),a=+Object(p.Zb)(t,!1),o=(new c.DateTime).add(a,"m"),s=o.clone().add(t.etaWindowSize,"m"),u=Object(l.get)(e,"deliveryRange","start"),d=Object(l.get)(e,"deliveryRange","end"),f=new c.DateTime(t.eta,i),_=f.clone().add(t.etaWindowSize,"m"),v=f.format(n),h=f.format("h:mma"),m=!t.asap||!!u||!!d,g=u||f||o,y=d||_||s;return{whenForStartDate:f,whenForEndDate:_,whenForDate:v,whenForTime:h,start:new c.DateTime(g,i).format("h:mma"),end:new c.DateTime(y,i).format("h:mma"),hasUpdatedDeliveryEstimate:m}}function y(e){var t=Object(l.get)(e,"deliveryRange","start");return!!t&&new c.DateTime(void 0,t.getTimezoneId()).isAfter(t)}function E(e){return!!e.delivery_events.find(function(e){return e.type===o.f.isArriving})}!function(e){e.TRACK="TRACK",e.VIEW="VIEW"}(n||(n={})),function(e){e.SUCCESS="SUCCESS",e.CANCELED="CANCELED",e.DEFAULT="DEFAULT"}(i||(i={}))},1553:function(e,t,r){"use strict";r.d(t,"i",function(){return v}),r.d(t,"a",function(){return h}),r.d(t,"b",function(){return m}),r.d(t,"c",function(){return g}),r.d(t,"e",function(){return i}),r.d(t,"f",function(){return a}),r.d(t,"h",function(){return o}),r.d(t,"d",function(){return u}),r.d(t,"g",function(){return y});var n,i,a,o,s,u,c,l=r(19),d=r(1550),p=r(25),f=r(4),_=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),v=3e4,h=100,m=1e4,g=10;!function(e){e.NORMAL="normal",e.DELAY="delay",e.AHEAD="ahead"}(i||(i={})),function(e){e.assigned="COURIER_IS_ASSIGNED",e.atRestaurant="COURIER_AT_RESTAURANT",e.isArriving="COURIER_IS_ARRIVING",e.geofenceArrivedAtPickup="GEOFENCE_ARRIVED_AT_PICKUP"}(a||(a={})),function(e){e.unknown="UNKNOWN",e.cancelled="CANCELLED",e.rejected="REJECTED",e.complete="COMPLETE",e.confirmed="CONFIRMED",e.unconfirmed="UNCONFIRMED",e.readyDelivery="OUT_FOR_DELIVERY",e.geofenceArrivedAtPickup="GEOFENCE_ARRIVED_AT_PICKUP",e.fulfilled="FULFILLED"}(o||(o={})),function(e){e.ON_TIME="ON_TIME",e.LATE="LATE",e.EARLY="EARLY"}(s||(s={})),function(e){e.EARLY="EARLY",e.AHEAD="AHEAD",e.ON_TIME="ON_TIME",e.BEHIND="BEHIND",e.LATE="LATE"}(u||(u={})),function(e){e.CURRENT_DINER="CURRENT_DINER",e.DINER="DINER",e.RESTAURANT="RESTAURANT",e.CURRENT_RESTAURANT="CURRENT_RESTAURANT"}(c||(c={}));var y=function(e){function t(t){var r=e.call(this)||this;Object.assign(r,t);var n=!!r.estimate_start_time&&new l.DateTime(r.estimate_start_time)||null,i=!!r.estimate_end_time&&new l.DateTime(r.estimate_end_time)||null;return r.deliveryRange={start:n,end:i},r.is_managed_delivery=t&&!!t.is_managed_delivery,r}return _(t,e),t.prototype.getNotifiedType=function(e){void 0===e&&(e=g);var t=Number(this.notified_eta_diff);return!t||Math.abs(t)<e?i.NORMAL:t<e?i.AHEAD:i.DELAY},t.prototype.isManagedDelivery=function(){return!!this.is_managed_delivery},t.prototype.isComplete=function(){return this.status===o.complete},t.prototype.isOutForDelivery=function(){return this.status===o.readyDelivery},t.prototype.isCancelled=function(){return this.status===o.cancelled},t.prototype.isRejected=function(){return this.status===o.rejected},t.prototype.isFulfilled=function(){return this.status===o.fulfilled},t.prototype.isPostOrderTipEigible=function(){return Boolean(Object(f.get)(this.post_fulfillment_eligibility,"update_tip_eligible"))},t.prototype.isCourierArriving=function(){return!Object(p.isEmpty)(this.delivery_events)&&(this.delivery_events[this.delivery_events.length-1].type===a.isArriving&&this.getStepIndex()===d.b.InTransit)},t.prototype.isCourierAtRestaurant=function(){return!Object(p.isEmpty)(this.delivery_events)&&(this.delivery_events[this.delivery_events.length-1].type===a.atRestaurant&&this.getStepIndex()===d.b.Started)},t.prototype.hasCourierArrivedOrLeftRestaurant=function(){var e;return!Object(p.isEmpty)(this.delivery_events)&&(null===(e=this.delivery_events)||void 0===e?void 0:e.map(function(e){return e.type}).indexOf(a.atRestaurant))>-1},t.prototype.hasCourierCrossedGeofence=function(){var e,t;if(Object(p.isEmpty)(this.delivery_events))return!1;var r=(null===(e=this.delivery_events)||void 0===e?void 0:e.map(function(e){return e.type}).indexOf(a.geofenceArrivedAtPickup))>-1,n=!!this.order_events&&(null===(t=this.order_events)||void 0===t?void 0:t.map(function(e){return e.type}).indexOf(o.geofenceArrivedAtPickup))>-1;return(r||n)&&this.getStepIndex()===d.b.Started},t.prototype.isCourierAssigned=function(){return!Object(p.isEmpty)(this.delivery_events)&&(this.delivery_events[this.delivery_events.length-1].type===a.assigned&&this.getStepIndex()===d.b.Started)},t.prototype.hasCourier=function(){return!!this.getCourier()},t.prototype.getCourier=function(){return this.delivery_tracking_info.courier},t.prototype.getDropoffInfo=function(){if(this.address)return{address:this.address,lat:parseFloat(String(this.address.latitude)),lng:parseFloat(String(this.address.longitude))}},t.prototype.getPin=function(){return this.dropoff_pin_code},t.prototype.getTimes=function(){var e,t={CANCELLED:null,CONFIRMED:null,COMPLETE:null,FULFILLED:null,OUT_FOR_DELIVERY:null};return null===(e=this.order_events)||void 0===e||e.forEach(function(e){t.hasOwnProperty(e.type)&&e.event_time&&(t[e.type]=e.event_time)}),{cancelled:{isActual:!!t.CANCELLED,timestamp:t.CANCELLED},confirmed:{isActual:!!t.CONFIRMED,timestamp:t.CONFIRMED},delivered:{isActual:!!t.COMPLETE,timestamp:t.COMPLETE},fulfilled:{isActual:!!t.FULFILLED,timestamp:t.FULFILLED},dispatched:{isActual:!!t.OUT_FOR_DELIVERY,timestamp:t.OUT_FOR_DELIVERY}}},t.prototype.getETA=function(){return new l.DateTime(this.expected_delivery_time).timestamp()},t.prototype.getStepIndex=function(){switch(this.status){case o.unconfirmed:case o.unknown:return d.b.Received;case o.confirmed:return d.b.Started;case o.readyDelivery:return d.b.InTransit;case o.complete:return d.b.Delivered;case o.cancelled:case o.rejected:return d.b.Cancelled;default:return d.b.Error}},t.prototype.isLate=function(e){var t,r,n;if(!this.original_promise_time)return!1;if(e)n=new l.DateTime(e);else{if(null===(t=this.order_events)||void 0===t||!t.length)return!1;r=this.order_events[this.order_events.length-1],n=new l.DateTime(r.event_time)}var i=new l.DateTime(this.original_promise_time.maximum);return n.isAfter(i)},t.prototype.getDeliveryPath=function(){var e,t;return(null===(t=null===(e=this.delivery_tracking_info)||void 0===e?void 0:e.delivery_path_v2)||void 0===t?void 0:t.path)||[]},t.prototype.isLateDelivery=function(){var e=this.getTimes().fulfilled;return(null==e?void 0:e.isActual)?this.isLate(e.timestamp):this.isLate()},t.prototype.getLastEvent=function(){var e=this.order_events||[];return e[e.length-1]},t.prototype.isActiveDelivery=function(){return(this.isOutForDelivery()||this.isCourierArriving())&&!this.isDelivered()&&!this.isCancelled()&&!this.isComplete()&&!this.isFulfilled()&&!this.isRejected()},t.prototype.isBundledDelivery=function(){return!!this.delivery_tracking_info.is_bundled},t.prototype.getNumberOfDeliveryStops=function(){var e;return(null===(e=this.delivery_tracking_info.delivery_path_v2)||void 0===e?void 0:e.number_of_stops)||0},t.prototype.isGranularETALate=function(){return this.granular_eta_state===u.LATE},t.prototype.isGranularETABehind=function(){return this.granular_eta_state===u.BEHIND},t.prototype.isGranularETAEarly=function(){return this.granular_eta_state===u.EARLY},t.prototype.isGranularETAAhead=function(){return this.granular_eta_state===u.AHEAD},t.prototype.isGranularETAOnTime=function(){return this.granular_eta_state===u.ON_TIME},t.prototype.getOrderOriginalPromiseTime=function(){return this.original_promise_time?this.original_promise_time.minimum:this.estimate_end_time},t}(d.a)}}]);
//# debugId=2c1caaa7-8c71-52ed-97ff-1b9be5de7371
